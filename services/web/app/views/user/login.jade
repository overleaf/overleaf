extends ../layout

block content
	.content.content-alt
		.container
			.row
				.col-md-6.col-md-offset-3.col-lg-4.col-lg-offset-4
					.card
						.page-header
							h1 Log In
						form(async-form="login", name="loginForm", action='/login', ng-cloak)
							input(name='_csrf', type='hidden', value=csrfToken)
							input(name='redir', type='hidden', value=redir)
							form-messages(for="loginForm")
							.form-group
								input.form-control(
									type='email',
									name='email',
									required,
									placeholder='email@example.com',
									ng-model="email",
									ng-model-options="{ updateOn: 'blur' }",
									focus="true"
								)
								span.small.text-primary(ng-show="loginForm.email.$invalid && loginForm.email.$dirty")
									| Must be an email address
							.form-group
								input.form-control(
									type='password',
									name='password',
									required,
									placeholder='********',
									ng-model="password"
								)
								span.small.text-primary(ng-show="loginForm.password.$invalid && loginForm.password.$dirty")
									| Required
							.actions
								button.btn-primary.btn(
									type='submit',
									ng-disabled="loginForm.inflight"
								)
									span(ng-show="!loginForm.inflight") Login
									span(ng-show="loginForm.inflight") Logging in...
								a.pull-right(href='/user/password/reset') Forgot your password?
